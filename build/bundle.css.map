{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "Image.svelte",
    "Waypoint.svelte",
    "App.svelte",
    "Article.svelte",
    "JournalNavigation.svelte",
    "NaviagtionItem.svelte",
    "Part.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Waypoint from \"svelte-waypoint\";\n\n  export let c = \"\"; // deprecated\n  export let alt = \"\";\n  export let width = null;\n  export let height = null;\n  export let src = \"\";\n  export let srcset = \"\";\n  export let srcsetWebp = \"\";\n  export let ratio = \"100%\";\n  export let blur = false;\n  export let sizes = \"(max-width: 1000px) 100vw, 1000px\";\n  export let threshold = 1.0;\n  export let lazy = true;\n  export let wrapperClass = \"\";\n  export let placeholderClass = \"\";\n\n  let className = \"\";\n  export { className as class };\n\n  let loaded = !lazy;\n\n  function load(img) {\n    img.onload = () => (loaded = true);\n  }\n</script>\n\n<style>\n  img {\n    object-position: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    will-change: opacity;\n  }\n\n  .blur {\n    filter: blur(10px);\n    transition: opacity 0.4s ease, filter 0.5s ease;\n  }\n\n  .placeholder {\n    opacity: 1;\n    transition: opacity 0.5s ease;\n    transition-delay: 0.7s;\n  }\n\n  .main {\n    opacity: 0;\n    transition: opacity 0.5s ease;\n    transition-delay: 0.7s;\n  }\n\n  .loaded .placeholder {\n    opacity: 0;\n  }\n\n  .loaded .main {\n    opacity: 1;\n  }\n</style>\n\n<Waypoint\n  class=\"{wrapperClass}\"\n  style=\"min-height: 100px; width: 100%;\"\n  once\n  {threshold}\n  disabled=\"{!lazy}\"\n>\n  <div class:loaded style=\"position: relative; width: 100%;\">\n    <div style=\"position: relative; overflow: hidden;\">\n      <div style=\"width:100%;padding-bottom:{ratio};\"></div>\n      <img class=\"placeholder {placeholderClass}\" {src} {alt} />\n      <picture>\n        <source type=\"image/webp\" srcset=\"{srcsetWebp}\" {sizes} />\n        <source {srcset} {sizes} />\n        <img\n          {src}\n          use:load\n          class=\"main {c} {className}\"\n          class:blur\n          {alt}\n          {width}\n          {height}\n        />\n      </picture>\n    </div>\n  </div>\n</Waypoint>\n",
    "<script>\n  import { createEventDispatcher, onDestroy } from 'svelte';\n\n  const dispatch = createEventDispatcher();\n\n  export let offset = 0;\n  export let throttle = 250;\n  export let c = '';\n  export let style = '';\n  export let once = true;\n  export let threshold = 1.0;\n  export let disabled = false;\n\n  let className = \"\";\n  export { className as class };\n\n  let visible = disabled;\n  let wasVisible = false;\n  let intersecting = false;\n  let removeHandlers = () => {};\n\n  function throttleFn(fn, time) {\n    let last, deferTimer;\n\n    return () => {\n      const now = +new Date;\n\n      if (last && now < last + time) {\n        // hold on to it\n        clearTimeout(deferTimer);\n        deferTimer = setTimeout(function () {\n          last = now;\n          fn();\n        }, time);\n      } else {\n        last = now;\n        fn();\n      }\n    };\n  }\n\n  function callEvents(wasVisible, observer, node) {\n    if (visible && !wasVisible) {\n      dispatch('enter');\n      return;\n    }\n\n    if (wasVisible && !intersecting) {\n      dispatch('leave');\n    }\n\n    if (once && wasVisible && !intersecting) {\n      removeHandlers();\n    }\n  }\n\n  function waypoint(node) {\n    if (!window || disabled) return;\n\n    if (window.IntersectionObserver && window.IntersectionObserverEntry) {\n      const observer = new IntersectionObserver(([ { isIntersecting } ]) => {\n        wasVisible = visible;\n\n        intersecting = isIntersecting;\n\n        if (wasVisible && once && !isIntersecting) {\n          callEvents(wasVisible, observer, node);\n          return;\n        }\n\n        visible = isIntersecting;\n\n        callEvents(wasVisible, observer, node);\n      }, {\n        rootMargin: offset + 'px',\n        threshold,\n      });\n\n      observer.observe(node);\n\n      removeHandlers = () => observer.unobserve(node);\n\n      return removeHandlers;\n    }\n\n    function checkIsVisible() {\n      // Kudos https://github.com/twobin/react-lazyload/blob/master/src/index.jsx#L93\n      if (!(node.offsetWidth || node.offsetHeight || node.getClientRects().length)) return;\n\n      let top;\n      let height;\n\n      try {\n        ({ top, height } = node.getBoundingClientRect());\n      } catch (e) {\n        ({ top, height } = defaultBoundingClientRect);\n      }\n\n      const windowInnerHeight = window.innerHeight\n        || document.documentElement.clientHeight;\n\n      wasVisible = visible;\n      intersecting = (top - offset <= windowInnerHeight) &&\n        (top + height + offset >= 0);\n\n      if (wasVisible && once && !isIntersecting) {\n        callEvents(wasVisible, observer, node);\n        return;\n      }\n\n      visible = intersecting;\n\n      callEvents(wasVisible);\n    }\n\n    checkIsVisible();\n\n    const throttled = throttleFn(checkIsVisible, throttle);\n\n    window.addEventListener('scroll', throttled);\n    window.addEventListener('resize', throttled);\n\n    removeHandlers = () => {\n      window.removeEventListener('scroll', throttled);\n      window.removeEventListener('resize', throttled);\n    }\n\n    return removeHandlers;\n  }\n</script>\n\n<style>\n.wrapper {\n  display: inline-block;\n}\n</style>\n\n<div class=\"wrapper {className} {c}\" {style} use:waypoint>\n  {#if visible}\n    <slot />\n  {/if}\n</div>\n",
    "<script>\r\n\timport * as data from './journal.json';\r\n\timport Article from './Article/Article.svelte';\r\n    import JournalNavigation from './JournalNavigation/JournalNavigation.svelte';\r\n\r\n\tlet elements = {};\r\n\r\n\tlet isJournalNavPanelHidden = true;\r\n\r\n\tconst focusArticle = id => {\r\n\t\tconsole.log('focusArticle ' + id + ' ' + elements[id]);\t\r\n\t\telements[id].scrollIntoView();\r\n\t}\r\n\r\n\tconst setArticleRef = (id, ref) => elements[id] = ref;\r\n\r\n\tconst toggleJournalNavPanel = () => {\r\n\t\tconsole.log('toggleJournalNavPanel')\r\n\t\tisJournalNavPanelHidden = !isJournalNavPanelHidden;\r\n\t}\r\n</script>\r\n\r\n<style>\r\n.main {\r\n    display: grid;\r\n    grid-template-areas:\r\n        /* \"left-header header right-header\" */\r\n        \"nav article ads\"\r\n        \"footer footer footer\";\r\n    grid-template-rows: 1fr 8px;\r\n    grid-template-columns: 1fr 800px 1fr;\r\n    height: auto;\r\n    font-family: fell, Georgia, Cambria, \"Times New Roman\", Times, serif;\r\n    font-weight: 400;\r\n    letter-spacing: -0.003em;\r\n    line-height: 32px;\r\n    font-size: 21px;\r\n    background: #a2b9bc;\r\n}\r\n\r\n@media (max-width: 800px) {\r\n    .main {\r\n        padding-top: 20px;\r\n        grid-template-rows: 1fr 8px;\r\n        grid-template-columns: 20px 1fr 20px;\r\n    }\r\n\r\n    .siteAds__button-hidden {\r\n        display: none;\r\n    }\r\n}\r\n\r\n.footer {\r\n    grid-area: footer;\r\n    margin: 8px;\r\n    padding: 8px;\r\n}\r\n\r\n.mainArticle {\r\n    grid-area: article;\r\n    padding: 0 32px;\r\n    box-shadow: 0px 0 10px rgba(0,0,0,0.7);    \t\r\n    background: white;\r\n    z-index: 1;\r\n}\r\n\r\n.mainNav {\r\n    grid-area: nav;\r\n    padding: 20px;\t\r\n}\r\n\r\n.siteAds {\r\n    grid-area: ads;\r\n    line-height: normal;\r\n}\r\n\r\n.siteAds__content {\r\n    position: sticky;\r\n    top: 60px; \r\n    padding: 8px;\r\n}\r\n\r\n.siteAds__shown {\r\n    background: white;\r\n    box-shadow: 0px 0 10px rgba(0,0,0,0.7);\r\n    text-align: right; \r\n    padding: 8px;\r\n    z-index: 1;\r\n    max-width: 180px;\r\n}\r\n\r\n.siteAds__hidden {\r\n    background: inherit;\r\n    padding: 8px;\r\n}\r\n\r\n.siteAds__hidden > .siteAds__content {\r\n    display: none;\r\n}\r\n\r\n.siteAds > button {\r\n    position: sticky;\r\n    top: 8px; \r\n    width: 42px;\r\n    font-weight: bold;    \r\n}\r\n\r\n.siteAds__button-hidden {\r\n    border: none;\r\n}\r\n\r\n.siteAds__button-hidden::before {\r\n    content: \">\";\t\t\r\n}\r\n\r\n.siteAds__button-hidden::before {\r\n    content: \">\";\r\n}\r\n\r\n.siteAds__button-shown::before {\r\n    content: \"<\";\r\n}\r\n\r\n.journalTitle {\r\n    width: auto;\r\n    text-align: center;\r\n}\r\n\r\n.epigraph {\r\n    width: auto;\r\n    text-align: right;\r\n    line-height: 16px;\r\n    font-style: italic;\r\n    margin-bottom: 32px;\r\n}\r\n\r\n.epigraph__annotation {\r\n    margin-top: 8px;\r\n    font-size: 0.8em;\r\n}\r\n</style>\r\n\r\n<body class=\"main\">\r\n\t<article class=\"mainArticle\">\r\n\t\t<div class=\"journalTitle\">\r\n\t\t\t<h2>{data.title}</h2>\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t{#each data.epigraphes as epigraph}\r\n\t\t\t<div class=\"epigraph\">\r\n\t\t\t\t{#each epigraph.paragraphes as paragraph}\r\n\t\t\t\t\t<p>{paragraph}</p>\t\r\n\t\t\t\t{/each}\t\r\n\t\t\t\t<p class=\"epigraph__annotation\">{epigraph.annotation}</p>\t\t\r\n\t\t\t</div>\r\n\t\t{/each}\r\n\t\t\r\n\t\t{#each data.articles as article}\r\n\t\t\t<Article\r\n\t\t\t\t{article}\r\n\t\t\t\tonMount={setArticleRef}\r\n\t\t\t/>\r\n\t\t{/each}\r\n\t</article>\r\n\t<nav class=\"mainNav\"></nav>\r\n\t<div class={isJournalNavPanelHidden ? 'siteAds siteAds__hidden' : 'siteAds siteAds__shown'}>\r\n\t\t<button class={isJournalNavPanelHidden ? 'siteAds__button-hidden' : 'siteAds__button-shown'} on:click={toggleJournalNavPanel}></button>\r\n\t\t<div class=\"siteAds__content\">\r\n\t\t\t<JournalNavigation articles={data.articles} onSelect={focusArticle}/>\r\n\t\t</div>\t\t\r\n\t</div>\r\n\t<footer class=\"footer\"></footer>\r\n</body>",
    "<script>\r\n    import Image from \"svelte-image\";\r\n    import Part from '../Part/Part.svelte';\r\n    export let article = {};\r\n    export let onMount = () => {};\r\n\r\n    let ref;\r\n\r\n    $: {\r\n        onMount(article.day, ref);\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .article {\r\n        margin-bottom: 52px;\r\n    }\r\n</style>\r\n\r\n<div class=\"article\">\r\n    <h3 bind:this={ref}>День {article.day}</h3>\r\n    <h4>{article.date}</h4>\r\n    {#each article.parts as part}\r\n        <Part {part}/>\r\n    {/each}\r\n</div>\r\n\r\n",
    "<script>\r\n    import NavigationItem from '../NavigationItem/NaviagtionItem.svelte';\r\n\r\n    export let articles = {};\r\n    export let onSelect = () => {};\r\n\r\n</script>\r\n\r\n<style>\r\n    .container {\r\n        text-align: left;\r\n    }\r\n\r\n    .container > h4 {\r\n        line-height: 8px;\r\n        margin-top: 0px;\r\n    }\r\n</style>\r\n\r\n<div class=\"container\">\r\n    <h4>Содержание</h4>\r\n    {#each articles as article }\r\n        <!-- TODO привязываться не к индексам, а к id -->\r\n        <NavigationItem {onSelect} label={`День ${article.day} - ${article.date}`} value={article.day}/>    \r\n    {/each}\r\n</div>\r\n",
    "<script>\r\n    export let label = '';\r\n    export let value = '';\r\n    export let onSelect = () => {};\r\n\r\n    const selectItem = () => {\r\n        onSelect(value);\r\n    }\r\n</script>\r\n\r\n<style>\r\n    h6 {\r\n        cursor: pointer;\r\n    }\r\n</style>\r\n\r\n<h6 on:click={selectItem}>{label}</h6>",
    "<script>\r\n    export let part = '';\r\n</script>\r\n\r\n<style>\r\n    .annotation {\r\n        line-height: 8px;\r\n        font-size: 0.8em;\r\n        font-style: italic;\r\n        text-align: center;\r\n    }\r\n\r\n    .imageContainer {\r\n        padding: 0px 16px;\r\n        text-align: center;\r\n    }\r\n</style>\r\n\r\n<h5>{part.time}</h5>\r\n{#each part.paragraphes as paragraph}\r\n    <p>{paragraph}</p>\r\n{/each}\r\n{#if part.image}\r\n    <div class=\"imageContainer\">\r\n        <img src={part.image.src} alt={part.image.annotation}/>\r\n    </div>\r\n    \r\n    <p class=\"annotation\">{part.image.annotation}</p>\r\n{/if}"
  ],
  "names": [],
  "mappings": "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"
}